# 颜色方案说明

## 概述

为了让会议讨论更容易跟踪，系统为每个代理分配了独特的颜色。这样你可以一眼识别出是谁在发言。

## 颜色分配

### 自动分配

系统会自动为每个参与会议的代理分配一个颜色：

1. **第一个代理**: 蓝色 🔵
2. **第二个代理**: 紫色 🟣
3. **第三个代理**: 绿色 🟢
4. **第四个代理**: 橙色 🟠
5. **第五个代理**: 品红 🔴
6. **第六个代理**: 青色 🔵
7. **第七个代理**: 青柠 🟢
8. **第八个代理**: 金色 🟡
9. **第九个代理**: 极客蓝 🔵
10. **第十个代理**: 火山红 🔴

如果代理超过 10 个，颜色会循环使用。

### 用户消息

用户的消息始终使用 **绿色** 🟢 标识，带有绿色左边框。

## 视觉元素

### 1. 消息气泡

每条消息都有：
- **背景颜色**: 柔和的浅色背景
- **左边框**: 4px 宽的彩色边框
- **标签颜色**: 与边框颜色匹配的标签

**示例**:
```
┌─────────────────────────────────┐
│ [Alice] 轮次 1 · 2024-11-26     │
├─────────────────────────────────┤
│ 这是 Alice 的消息内容...        │
│ (蓝色背景 + 蓝色左边框)         │
└─────────────────────────────────┘
```

### 2. 参与者标签

在会议信息卡片中，每个参与者标签包含：
- **彩色圆点**: 8px 的圆形颜色指示器
- **彩色边框**: 左侧 3px 的彩色边框
- **彩色标签**: 整体标签颜色

**示例**:
```
参与者: [● Alice (产品经理)] [● Bob (工程师)] [● Carol (设计师)]
        蓝色              紫色             绿色
```

### 3. 快速 @ 标签

在输入框上方的快速 @ 标签也使用相同的颜色：
```
快速 @: [@Alice] [@Bob] [@Carol]
        蓝色     紫色    绿色
```

## 颜色调色板

### 完整调色板

| 序号 | 颜色名称 | 背景色 | 边框色 | 标签颜色 |
|------|---------|--------|--------|----------|
| 1 | 蓝色 | #e3f2fd | #2196f3 | blue |
| 2 | 紫色 | #f3e5f5 | #9c27b0 | purple |
| 3 | 绿色 | #e8f5e9 | #4caf50 | green |
| 4 | 橙色 | #fff3e0 | #ff9800 | orange |
| 5 | 品红 | #fce4ec | #e91e63 | magenta |
| 6 | 青色 | #e0f2f1 | #009688 | cyan |
| 7 | 青柠 | #f1f8e9 | #8bc34a | lime |
| 8 | 金色 | #fff9c4 | #fbc02d | gold |
| 9 | 极客蓝 | #ede7f6 | #673ab7 | geekblue |
| 10 | 火山红 | #fbe9e7 | #ff5722 | volcano |

### 用户颜色

| 元素 | 背景色 | 边框色 | 标签颜色 |
|------|--------|--------|----------|
| 用户消息 | #f0f9ff | #52c41a | green |

## 设计原则

### 1. 可区分性

- 每个颜色都经过精心挑选，确保容易区分
- 相邻的颜色有明显的色调差异
- 避免使用过于相似的颜色

### 2. 柔和舒适

- 使用柔和的浅色背景，不刺眼
- 边框颜色饱和度适中
- 长时间阅读不会疲劳

### 3. 一致性

- 同一代理在整个会议中保持相同颜色
- 标签、气泡、快速 @ 使用统一配色
- 颜色指示器（圆点）与边框颜色一致

### 4. 可访问性

- 颜色对比度符合 WCAG 标准
- 文字清晰可读
- 支持色盲友好（通过形状和位置辅助识别）

## 使用场景

### 场景 1: 多人讨论

当有 3-5 个代理参与讨论时：

```
[Alice - 蓝色] 我认为应该...
[Bob - 紫色] 从技术角度来看...
[Carol - 绿色] 用户体验方面...
[David - 橙色] 数据显示...
```

每个人的发言都有独特的颜色，一眼就能看出是谁在说话。

### 场景 2: 追踪对话

当需要回顾某个代理的所有发言时：

```
滚动浏览消息 → 寻找蓝色边框 → 找到 Alice 的所有发言
```

### 场景 3: 快速识别

在长对话中快速定位：

```
"刚才紫色的那位（Bob）提到的技术方案..."
```

## 自定义（未来功能）

### 计划中的功能

- [ ] 用户自定义颜色
- [ ] 颜色主题切换（浅色/深色）
- [ ] 色盲模式
- [ ] 导出时保留颜色
- [ ] 颜色偏好设置

### 可能的主题

**浅色主题**（当前）:
- 柔和的浅色背景
- 中等饱和度的边框

**深色主题**（计划中）:
- 深色背景
- 高亮的边框颜色

**高对比度主题**（计划中）:
- 纯白/纯黑背景
- 高饱和度颜色

## 技术实现

### 颜色分配算法

```javascript
// 为代理分配颜色
const getAgentColor = (agentId) => {
  // 使用代理在参与者列表中的索引
  const index = participants.findIndex(p => p.id === agentId)
  // 循环使用调色板
  return colorPalette[index % colorPalette.length]
}
```

### 颜色持久化

- 颜色在会议期间保持不变
- 刷新页面后颜色保持一致
- 基于代理 ID 和参与顺序

### 性能优化

- 颜色在组件加载时一次性分配
- 使用 React state 缓存颜色映射
- 避免重复计算

## 最佳实践

### 1. 创建会议时

- 考虑代理数量（3-5 个最佳）
- 选择不同角色的代理（更容易区分）

### 2. 查看消息时

- 注意左边框颜色
- 参考参与者列表的颜色图例
- 使用颜色快速定位发言者

### 3. 导出会议时

- Markdown 导出会保留发言者名称
- 可以在导出文件中添加颜色标记
- JSON 导出包含完整的发言者信息

## 常见问题

### Q: 为什么我的代理颜色和别人不一样？

**A**: 颜色是根据代理在参与者列表中的顺序分配的。如果参与者顺序不同，颜色也会不同。

### Q: 可以自定义颜色吗？

**A**: 当前版本不支持自定义颜色，但这是计划中的功能。

### Q: 颜色会在刷新后改变吗？

**A**: 不会。只要参与者列表顺序不变，颜色就保持一致。

### Q: 如果代理超过 10 个怎么办？

**A**: 颜色会循环使用。第 11 个代理会使用第 1 个颜色（蓝色），以此类推。

### Q: 色盲用户怎么办？

**A**: 除了颜色，我们还使用：
- 发言者名称标签
- 左边框（形状辅助）
- 时间戳和轮次信息

未来会添加专门的色盲友好模式。

## 反馈

如果你对颜色方案有任何建议，欢迎反馈！我们会持续优化视觉体验。
